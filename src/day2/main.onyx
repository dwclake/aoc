/*
 * Advent of Code 2023
 * Day 2
 * Cube Conundrum
 */

use core {*}

day2 :: (path: str) -> Result(i32, os.FileError) {
    file := os.open(path)?;
    defer os.close(&file);

    contents := os.get_contents(&file);

    sum := string.split_iter(contents, "\n")
        |> iter.map(line => 1)
        |> iter.fold(0, (a, b) => a + b);

    return .{Ok = sum};
}

main :: () {
    printf("{}\n", day2("src/day2/inputs.txt"));
}
